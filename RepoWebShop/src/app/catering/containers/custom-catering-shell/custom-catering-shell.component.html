<div class="container">
  <mat-card>
    <p>Catering personalizado</p>
    <div *ngIf="items$ | async as items" >
      <div *ngIf="items.length; else loading">
        <app-custom-catering-item [items]="selectedItems$ | async" (Decrement)="removeItem($event)" (Increment)="addItem($event)" ></app-custom-catering-item>
        <app-autocomplete-items [items]='items' (addItem)="addItem($event)" ></app-autocomplete-items>
        <app-total [price]="price$ | async" [priceInStore]="priceInStore$ | async"></app-total>
        <div>
          <button mat-raised-button color="primary" (click)="saveCatering()">Guardar</button>
        </div>
      </div>
    </div>
    <ng-template #loading>
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
      <small>Â¡Por favor espera mientras preparamos todo!</small>
    </ng-template>
    <div *ngIf="saving$ | async as saving">
      <div *ngIf="saving">
        <mat-progress-bar mode="indeterminate"></mat-progress-bar>
        <small>Agregando al carrito...</small>
      </div>
    </div>
  </mat-card> 
</div>